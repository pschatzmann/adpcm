<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ADPCM Codecs: ADPCM Library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ADPCM Codecs
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">ADPCM Library </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_README"></a> ADPCM (Adaptive Differential Pulse Code Modulation) is a <b>lossy codec</b> with a good compression ratio and very low requirements in terms of memory and cpu for both the decoding and encoding. It is also purely based on integer arithemtic. It has lost it's imporance on the desktop, but it is still one of the best codec to be used on microcontrollers.</p>
<p>Unfortunately it is not standardized but there are many alternative implementations which are incompatible between each other.</p>
<p>I was looking for a <b>complete</b> ADPCM codec library that is suitable to be used on some microcontrollers and supports the most important implementations.</p>
<p>The best implementation that I could find is provided by <a href="https://ffmpeg.org/">FFmpeg</a> but unfortunately FFmpeg itself is unsuited for microcontrollers.</p>
<p>Therefore I decided to extract the implementation and provide it as a stand alone libarary with a simple API and provide the functionality as header only C++ implementation.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Usage</h1>
<p>This library can be used directly with cmake or as an Arduino library. However I recommend to use it as <a href="https://github.com/pschatzmann/arduino-audio-tools/wiki/Encoding-and-Decoding-of-Audio">Codec</a> with the <a href="https://github.com/pschatzmann/arduino-audio-tools">Arduino Audio Tools</a>.</p>
<h1><a class="anchor" id="autotoc_md2"></a>
Class Documentation</h1>
<ul>
<li><a href="https://pschatzmann.github.io/adpcm/docs/html/classadpcm__ffmpeg_1_1ADPCMEncoder.html">Encoder</a></li>
<li><a href="https://pschatzmann.github.io/adpcm/docs/html/classadpcm__ffmpeg_1_1ADPCMDecoder.html">Decoder</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md3"></a>
Configuration</h1>
<p>I started with all <a href="https://pschatzmann.github.io/adpcm/docs/html/compat__public_8h.html#aadca229ad2c20e060a14fec08a5cc7ce">codec variants</a> activated. This was working on the desktop but unfortunatly this was causing that microcontrollers like the ESP32 was running out of stack.</p>
<p>I therfore left only the most important variants activated and let it up to you to select additional variants. For details see the <a href="https://github.com/pschatzmann/adpcm/blob/main/src/adpcm-ffmpeg/config-adpcm.h">config-adpcm.h</a> file.</p>
<h1><a class="anchor" id="autotoc_md4"></a>
Examples</h1>
<p>The following examples are encoding and decoding a sine tone:</p>
<ul>
<li><a href="https://github.com/pschatzmann/arduino-audio-tools/blob/main/examples/tests/codecs/test-codec-adpcm/test-codec-adpcm.ino">Arduino Audio Tools</a></li>
<li><a href="https://github.com/pschatzmann/arduino-audio-tools/tree/main/tests-cmake/codec/adpcm">CMake</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md5"></a>
Installation</h1>
<h2><a class="anchor" id="autotoc_md6"></a>
Arduino</h2>
<p>You can download the library as zip and call include Library -&gt; zip library. Or you can git clone this project into the Arduino libraries folder e.g. with</p>
<div class="fragment"><div class="line">cd  ~/Documents/Arduino/libraries</div>
<div class="line">git clone https://github.com/pschatzmann/adpcm</div>
</div><!-- fragment --><p>I recommend to use git because you can easily update to the latest version just by executing the git pull command in the project folder. If you want to use the library in PlatformIO, you can find a detailed description in the Wiki.</p>
<h2><a class="anchor" id="autotoc_md7"></a>
PlatformIO</h2>
<p>Just add this library to your platformio.ini. You can also activate or deactivate individual encoders and decoders </p><div class="fragment"><div class="line">lib_deps = https://github.com/pschatzmann/adpcm</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md8"></a>
CMake</h2>
<p>You can install this library directly from gihub in your CMakeLists.txt</p>
<div class="fragment"><div class="line">project(your-target)</div>
<div class="line"> </div>
<div class="line"># acivate FetchContent</div>
<div class="line">include(FetchContent)</div>
<div class="line"> </div>
<div class="line"># install adpcm from github</div>
<div class="line">FetchContent_Declare(adpcm_ffmpeg GIT_REPOSITORY &quot;https://github.com/pschatzmann/adpcm&quot; GIT_TAG main )</div>
<div class="line">FetchContent_GetProperties(adpcm_ffmpeg)</div>
<div class="line">if(NOT adpcm_ffmpeg)</div>
<div class="line">    FetchContent_Populate(adpcm_ffmpeg)</div>
<div class="line">    add_subdirectory(${adpcm_ffmpeg_SOURCE_DIR} ${CMAKE_CURRENT_BINARY_DIR}/adpcm)</div>
<div class="line">endif()</div>
<div class="line"> </div>
<div class="line"># activate/deactivate individual encoders or decoders</div>
<div class="line">target_compile_definitions(your-target PUBLIC -DCONFIG_ADPCM_ARGO_DECODER=0)</div>
<div class="line"> </div>
<div class="line"># specify libraries</div>
<div class="line">target_link_libraries(your-target adpcm_ffmpeg)</div>
<div class="line">...</div>
</div><!-- fragment --> </div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
